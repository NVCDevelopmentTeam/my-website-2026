import{metadata as ct}from"./UjeUzZvR.js";import{s as q}from"./6oJg6312.js";import{s as A}from"./rbKpLrNQ.js";import{t as X}from"./BSRy4JJk.js";import{p as dt,n as U,o as gt,f as pt,g as V,j as e,a as T,b as ut,u as D,k as N,s as Z,m as ft,r as C,t as Y,B as mt,e as E,l as $,c as S,C as R}from"./DN1fDwAb.js";const ht=Object.assign({"/src/lib/contents/posts/tuong-lai-nao-cho-nganh-lap-trinh-2025.md":ct});let L=null,z=null,F=null,O=null;const vt=36e5;function G(){return O?Date.now()-O>vt:!0}function J(){return L&&!G()||(L=Object.entries(ht).map(([a,r])=>{const s=a.split("/").pop()?.replace(".md","")||"untitled",t=r||{},d=t.slug||A(s),m=t.title||s,u=t.author||q?.author?.name||"Ẩn danh";let f=t.date;try{const w=new Date(f);isNaN(w.getTime())?f=new Date().toISOString():f=w.toISOString()}catch{f=new Date().toISOString()}let l=[];typeof t.categories=="string"?l=t.categories.split(",").map(w=>w.trim()).filter(Boolean):Array.isArray(t.categories)&&(l=t.categories.filter(Boolean)),l.length===0&&(l=["chưa phân loại"]);let x=[];typeof t.tags=="string"?x=t.tags.split(",").map(w=>w.trim()).filter(Boolean):Array.isArray(t.tags)&&(x=t.tags.filter(Boolean)),x.length===0&&(x=["chưa phân loại"]);const p=t.description&&typeof t.description=="string"&&t.description.trim().length>0&&!t.description.startsWith("title:")&&!t.description.startsWith("---")?X(t.description.trim(),160):X(m,60),c=t.preview&&typeof t.preview=="string"&&t.preview.trim().length>0?t.preview.trim():t.excerpt||p,M=typeof t.readingTime=="number"&&t.readingTime>0?t.readingTime:5;return{slug:d,rawName:s,timestamp:new Date(f).getTime(),metadata:{slug:d,title:m,author:u,date:f,updated:t.updated||f,categories:l,tags:x,description:p,preview:c,readingTime:M,draft:t.draft===!0||t.draft==="true",image:t.image||null,toc:t.toc||[],_wordsCount:t._wordsCount}}}).filter(a=>!a.metadata.draft).sort((a,r)=>r.timestamp-a.timestamp),O=Date.now()),L}function At({offset:h=0,limit:a=q?.pagination?.postsPerPage||10,category:r="",author:s="",tag:t="",year:d=null,month:m=null}={}){let u=J();if(r&&r.trim()){const p=A(r.trim());u=u.filter(n=>n.metadata.categories.some(c=>A(c)===p))}if(s&&s.trim()){const p=s.trim().toLowerCase();u=u.filter(n=>n.metadata.author.toLowerCase()===p)}if(t&&t.trim()){const p=A(t.trim());u=u.filter(n=>n.metadata.tags.some(c=>A(c)===p))}if(d){const p=parseInt(d);isNaN(p)||(u=u.filter(n=>new Date(n.metadata.date).getFullYear()===p))}if(m&&d){const p=parseInt(m),n=parseInt(d);!isNaN(p)&&!isNaN(n)&&(u=u.filter(c=>{const M=new Date(c.metadata.date);return M.getFullYear()===n&&M.getMonth()+1===p}))}const f=u.length,l=Math.ceil(f/a),x=Math.floor(h/a)+1;return{posts:u.slice(h,h+a),total:f,totalPages:l,currentPage:x,limit:a,offset:h,hasNext:h+a<f,hasPrev:h>0,pages:Array.from({length:l},(p,n)=>({number:n+1,offset:n*a,isActive:n+1===x})),filters:{category:r,author:s,tag:t,year:d,month:m}}}function St(){if(z&&!G())return z;const h=J(),a=new Map;return h.forEach(r=>{r.metadata.categories.forEach(s=>{const t=s.trim();if(!t)return;const d=A(t),m=a.get(d);m?m.count++:a.set(d,{title:t,slug:d,count:1})})}),z=Array.from(a.values()).map(({title:r,slug:s,count:t})=>({metadata:{title:r,slug:s,description:`Danh mục ${r} có ${t} bài viết`,count:t}})).sort((r,s)=>s.metadata.count-r.metadata.count),O=Date.now(),z}function Ut(){if(F&&!G())return F;const h=J(),a=new Map;return h.forEach(r=>{r.metadata.tags.forEach(s=>{const t=s.trim();if(t){const d=A(t),m=a.get(d);m?m.count++:a.set(d,{name:t,slug:d,count:1})}})}),F=Array.from(a.values()).map(({name:r,slug:s,count:t})=>({name:r,count:t,slug:s})).sort((r,s)=>s.count-r.count),O=Date.now(),F}var bt=S('<li><a data-sveltekit-preload-data="hover" class="inline-flex items-center gap-1.5 px-3 py-2 text-sm font-bold text-gray-950 dark:text-gray-50 bg-white dark:bg-gray-800 border border-gray-400 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> <span>Trước</span></a></li>'),yt=S('<span class="inline-flex items-center justify-center w-10 h-10 text-sm font-bold text-gray-950 dark:text-gray-400">…</span>'),xt=S('<span class="inline-flex items-center justify-center w-10 h-10 text-sm font-black text-white bg-sky-950 dark:bg-sky-400 dark:text-gray-950 border border-sky-950 dark:border-sky-400 rounded cursor-default" aria-current="page"> </span>'),wt=S('<a data-sveltekit-preload-data="hover" class="inline-flex items-center justify-center w-10 h-10 text-sm font-bold text-gray-950 dark:text-gray-50 bg-white dark:bg-gray-800 border border-gray-400 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-500 dark:hover:border-gray-400 transition-colors"> </a>'),kt=S("<li><!></li>"),Pt=S('<li><a data-sveltekit-preload-data="hover" class="inline-flex items-center gap-1.5 px-3 py-2 text-sm font-bold text-gray-950 dark:text-gray-50 bg-white dark:bg-gray-800 border border-gray-400 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors" aria-label="Trang sau"><span>Sau</span> <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a></li>'),_t=S('<nav class="flex justify-center items-center mt-8 mb-4"><ul class="inline-flex items-center gap-1"><!> <!> <!></ul></nav>');function jt(h,a){dt(a,!0);let r=U(a,"metadata",3,void 0),s=U(a,"pagination",3,void 0),t=U(a,"data",3,void 0),d=U(a,"currentPage",3,void 0),m=U(a,"totalPosts",3,void 0),u=U(a,"baseUrl",3,void 0);const f=D(()=>{const i=s()||r()||t()?.pagination||t()?.metadata||{};let g=u()||i.baseUrl||t()?.baseUrl||R.data?.baseUrl;g||(g=R.url.pathname.split("/page/")[0].replace(/\/$/,"")||"/");const k=d()||i.currentPage||i.page||t()?.currentPage||R.data?.currentPage||1,P=m()||i.totalPosts||i.total||t()?.totalPosts||0;return{currentPage:Number(k),totalPosts:Number(P),baseUrl:g}}),l=D(()=>e(f).currentPage),x=D(()=>e(f).totalPosts),j=D(()=>e(f).baseUrl),p=q.pagination.postsPerPage,n=5,c=D(()=>Math.ceil(e(x)/p)),M=D(()=>e(l)<e(c)),w=D(()=>e(l)>1),tt=D(()=>{const i=[];if(e(c)<=n)for(let g=1;g<=e(c);g++)i.push(g);else{const g=Math.floor(n/2);let k=Math.max(1,e(l)-g),P=Math.min(e(c),e(l)+g);e(l)<=g?P=n:e(l)>=e(c)-g&&(k=e(c)-n+1);for(let B=k;B<=P;B++)i.push(B);k>1&&(i.unshift("..."),i.unshift(1)),P<e(c)&&(i.push("..."),i.push(e(c)))}return i});function W(i){if(i===1)return e(j);const g=e(j).includes("?")?"&":"?";return`${e(j)}${g}page=${i}`}var K=gt(),et=pt(K);{var at=i=>{var g=_t(),k=N(g),P=N(k);{var B=v=>{var o=bt(),_=N(o);C(o),Y(I=>E(_,"href",I),[()=>W(e(l)-1)]),T(v,o)};V(P,v=>{e(w)&&v(B)})}var Q=Z(P,2);ft(Q,19,()=>e(tt),(v,o)=>typeof v=="number"?`page-${v}`:`ellipsis-${o}`,(v,o)=>{var _=kt(),I=N(_);{var ot=y=>{var b=yt();T(y,b)},nt=y=>{var b=xt(),H=N(b,!0);C(b),Y(()=>{E(b,"aria-label",`Trang ${e(o)??""}`),$(H,e(o))}),T(y,b)},it=y=>{var b=wt(),H=N(b,!0);C(b),Y(lt=>{E(b,"href",lt),E(b,"aria-label",`Trang ${e(o)??""}`),$(H,e(o))},[()=>W(e(o))]),T(y,b)};V(I,y=>{e(o)==="..."?y(ot):e(o)===e(l)?y(nt,1):y(it,!1)})}C(_),Y(y=>mt(_,1,y),[()=>typeof e(o)=="number"&&Math.abs(e(o)-e(l))>1&&e(o)!==1&&e(o)!==e(c)?"hidden md:block":""]),T(v,_)});var rt=Z(Q,2);{var st=v=>{var o=Pt(),_=N(o);C(o),Y(I=>E(_,"href",I),[()=>W(e(l)+1)]),T(v,o)};V(rt,v=>{e(M)&&v(st)})}C(k),C(g),T(i,g)};V(et,i=>{e(c)>1&&i(at)})}T(h,K),ut()}export{jt as P,St as a,Ut as b,At as g};
