import{b as z,g as w,P as E}from"../chunks/CH1ZU_-_.js";import{s as P}from"../chunks/6oJg6312.js";import{z as m,p as $,f as N,A as B,g as D,t as F,a as x,b as L,j as s,c as k,u as y,s as f,k as p,r as d,l as S}from"../chunks/DN1fDwAb.js";import{P as V}from"../chunks/BSRy4JJk.js";import{S as q}from"../chunks/CXl__1c6.js";import{g as G}from"../chunks/Cw1OXyQU.js";const H=!0;async function I(){return z().filter(t=>t).map(t=>({tag:t.slug}))}async function J({params:h,url:t}){const a=h.tag;a||m(400,"Thẻ không hợp lệ.");const r=z().find(o=>o.slug===a);r||m(404,`Không tìm thấy thẻ "${a}".`);const g={title:r.name,slug:r.slug,count:r.count,description:`Có ${r.count} bài viết với thẻ "${r.name}"`},i=t.searchParams.get("page"),e=i&&!isNaN(Number(i))&&Number(i)>0?Number(i):1,l=P.pagination.postsPerPage,v=(e-1)*l;try{const{posts:o,total:b,totalPages:n}=w({offset:v,limit:l,tag:g.title});return e>n&&n>0&&m(404,`Trang ${e} không tồn tại trong thẻ "${g.title}".`),{tag:g,posts:o,pagination:{currentPage:e,totalPages:n,totalPosts:b,hasPrev:e>1,hasNext:e<n},site:P}}catch(o){console.error("Error loading Tag page:",o),m(500,"Không thể tải bài viết theo thẻ này.")}}const et=Object.freeze(Object.defineProperty({__proto__:null,entries:I,load:J,prerender:H},Symbol.toStringTag,{value:"Module"}));var Q=k('<!> <div class="mt-10"><!></div>',1),R=k('<p class="text-center text-gray-950 dark:text-gray-50 font-bold italic mt-8">Chưa có bài viết nào dùng tag này.</p>'),U=k('<!> <section class="px-4 py-12"><div class="mb-8"><div class="flex items-center gap-2 mb-2"><svg class="w-5 h-5 text-purple-800 dark:text-purple-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg> <h1 class="text-3xl font-black text-gray-950 dark:text-gray-50"> </h1></div> <p class="text-sm text-gray-950 dark:text-gray-50 font-bold"> </p></div> <!></section>',1);function st(h,t){$(t,!0);let a=y(()=>t.data.tag),_=y(()=>t.data.posts);const r=y(()=>G({title:`Thẻ: ${s(a)?.title||"Không xác định"}`,description:s(a)?.description||`Các bài viết được gắn thẻ "${s(a)?.title||"này"}" trên ${P.title}.`,url:`/blog/tag/${s(a)?.slug}`}));var g=U(),i=N(g);q(i,B(()=>s(r)));var e=f(i,2),l=p(e),v=p(l),o=f(p(v),2),b=p(o,!0);d(o),d(v);var n=f(v,2),M=p(n);d(n),d(l);var j=f(l,2);{var A=c=>{var u=Q(),T=N(u);V(T,{get posts(){return s(_)}});var C=f(T,2),O=p(C);E(O,{get pagination(){return t.data.pagination}}),d(C),x(c,u)},K=c=>{var u=R();x(c,u)};D(j,c=>{s(_)?.length>0?c(A):c(K,!1)})}d(e),F(()=>{S(b,s(a)?.title||"Thẻ"),S(M,`Thẻ ${s(a)?.title??""} có ${(t.data.pagination?.totalPosts||0)??""} bài viết`)}),x(h,g),L()}export{st as component,et as universal};
