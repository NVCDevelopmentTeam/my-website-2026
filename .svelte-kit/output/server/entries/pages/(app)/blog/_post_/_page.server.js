import{g as i,c as m}from"../../../../../chunks/posts.js";import{error as g}from"@sveltejs/kit";const x=!0;async function P(){const{posts:o}=i({limit:-1});return o.map(e=>({post:e.slug}))}async function w({params:o}){const e=o.post;try{const s=m(e),{metadata:u,rawName:n,slug:l}=s,{posts:r}=i({offset:0,limit:9999}),a=r.findIndex(t=>t.slug===l||t.slug===e||t.rawName===n);let c=null,d=null;if(a>0){const t=r[a-1];c={slug:t.slug,title:t.metadata?.title||t.rawName,excerpt:t.metadata?.excerpt||"",date:t.metadata?.date}}if(a!==-1&&a<r.length-1){const t=r[a+1];d={slug:t.slug,title:t.metadata?.title||t.rawName,excerpt:t.metadata?.excerpt||"",date:t.metadata?.date}}return{post:{slug:l,rawName:n,metadata:{...u,prevPost:c,nextPost:d}}}}catch(s){s.message?.includes("Invalid slug")||console.error("Error loading post:",s),g(404,`Post not found: ${e}`)}}export{P as entries,w as load,x as prerender};
